<div class="container mt-90 pt-1 pb-5">
  {% if page.permalink == "/tutoring/" %}
    <amp-lightbox
      id="apply-now-lightbox"
      class="lightbox pt-10"
      layout="nodisplay"
      scrollable
      on="tap:apply-now-lightbox.close"
      tabindex="0"
      role="dialog"
    >
      <div class="container" on="tap:apply-now-lightbox.open" tabindex="0">
        <h2 class="font-family-alt font-weight-bold text-center display-5 mt-6 mb-0 p-5 text-white">
          Download Our Course Guide
        </h2>
      </div>
      <form class="d-flex justify-content-center align-items-center"
        target="_top"
        action-xhr="{{site.form_url}}/{{site.hubspot_portal_id}}/702969c4-4c75-4b99-b6d2-59d04d6ebd03"
        method="POST">
        <div class="form-container px-5 px-lg-11 mx-lg-11">
          <input name="lifecyclestage" type="hidden" value="marketingqualifiedlead">
          <input name="downloaded_a_courses_guide" type="hidden" value="true">
          <input name="hs_lead_status" type="hidden" value="NEW">
          <input name="page_name" type="hidden" value="{{page.title}}">
          <input name="page_uri" type="hidden" value="{{site.url}}{{page.url}}">
          <input name="hutk" type="hidden" value="">

          <div class="row center-form px-5 pb-3" on="tap:apply-now-lightbox.open" tabindex="0">
            <!-- Input -->
            <div class="col-sm-6">
              <div class="form-group">
                <label for="first-name" class="form-label text-white">
                  Name <span class="text-red-a">*</span>
                </label>

                <input id="first-name" type="text" class="form-control" name="firstname" placeholder="Name" aria-label="Your name"
                  required data-msg="Please enter your name." data-error-class="u-has-error" data-success-class="u-has-success" />
              </div>
            </div>
            <!-- End Input -->

            <!-- Input -->
            <div class="col-sm-6">
              <div class="form-group">
                <label for="email" class="form-label text-white">
                  Email <span class="text-red-a">*</span>
                </label>

                <input id="email" type="email" class="form-control" name="email" placeholder="Email" aria-label="Your email address"
                  required data-msg="Please enter a valid email address." data-error-class="u-has-error" data-success-class="u-has-success" />
              </div>
            </div>
            <!-- End Input -->
            <div class="col-sm-6 d-flex flex-column justify-content-end text-white">
              {% include referral-question.html id="referral-tutors" %}
            </div>

            <!-- Input -->
            <div class="col-sm-6 d-flex flex-column justify-content-end form-group">
              <label class="form-label text-white" for="best-describes">Which of these best describes you? <span class="text-red-a">*</span></label>
              <select id="best-describes" name="which_of_these_best_describes_you_" class="form-control" required>
                <option disabled selected value="">Select your answer</option>
                <option value="I'm researching coding bootcamps">I'm researching coding bootcamps</option>
                <option value="I'm teaching myself to code but I'm stuck">I'm teaching myself to code but I'm stuck</option>
                <option value="I'm interested in a career in tech">I'm interested in a career in tech</option>
                <option value="I'm an entrepreneur with an idea">I'm an entrepreneur with an idea</option>
                <option value="I'm looking for a college alternative">I'm looking for a college alternative</option>
                <option value="I want to learn a new skill for my current job">I want to learn a new skill for my current job</option>
              </select>
            </div>
            <!-- End Input -->

            <!-- Input -->
            <div class="col-12 d-flex align-items-end justify-content-center form-group">
              <button type="submit" class="btn btn-round btn-sm-block text-white bg-purple hover-white">
                View Guide
              </button>
            </div>
            <!-- End Input -->
            <div class="col-12 d-flex justify-content-center text-white">
              {% include data-agreement.html %}
            </div>
          </div>
        </div>

        <div class="text-center">
          <div submit-error>
            <template type="amp-mustache">
              <p class="text-red-a">There was an error with your request. Please try again.</p>
            </template>
          </div>
        </div>
      </form>
    </amp-lightbox>
  {% endif %}
  <h2 class="font-family-alt font-weight-bold text-center display-5 mt-10">
    Tutoring
  </h2>
  <h5 class="text-center mb-5 mx-auto">
    Austin Coding Academy offers unlimited tutoring to students and graduates!
  </h5>
  <div class="row mb-10">
    <div class="col-md">
      <h4 class="font-weight-bold">
        One-on-One Tutoring
      </h4>
      <ul class="fa-ul">
        <li class="mb-2">
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Schedule an appointment with a tutor who is available for your class
        </li>
        <li class="mb-2">
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Send a message on RocketChat to say hi, let the tutor know which class you're in,
          and confirm where you'll meet
        </li>
        <li>
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          If you are unable to meet in person, Virtual Classroom is available for video chat
          and screen-sharing
        </li>
      </ul>
    </div>
    <div class="col-md">
      <h4 class="font-weight-bold">
        Group Coding &amp; Tutoring Sessions
      </h4>
      <ul class="fa-ul">
        <li class="mb-2">
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Every weekend
          <a href="https://www.google.com/maps/place/314+E+Highland+Mall+Blvd,+Austin,+TX+78752/@30.3290949,-97.7136072,17z/data=!3m1!4b1!4m5!3m4!1s0x8644ca3c817930a1:0xdcef6c070dfbaef7!8m2!3d30.3290949!4d-97.7114185">
            @<span class="link-underlined">Highland Campus</span>
          </a>
        </li>
        <li class="mb-2">
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Saturdays: 10am - 6pm
        </li>
        <li class="mb-2">
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Sundays: 3pm - 6pm
        </li>
        <li>
          <span class="fa-li"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>
          Check your email for a weekly invitation and list of tutors who will be there to help
        </li>
      </ul>
    </div>
  </div>

  <!-- Filters -->
  <h4>Filters</h4>
  <div class="d-flex flex-row justify-content-around pb-5">
    <amp-state id="allTutors">
      <script type="application/json">
        {{page.tutors | jsonify}}
      </script>
    </amp-state>

    <!-- Location -->
    <div class="w-50">
      <h5>
        By Location:
      </h5>
      <!-- htmllint preset="none" -->
      <select
        on="change:AMP.setState({
            allTutorsByLocation: allTutors.filter(x => x.location.includes(event.value))
          }),tutors.changeToLayoutContainer()"
        tabindex="0"
      >
      <!-- htmllint preset="$previous" -->
        <option disabled selected>
          Select Location
        </option>
        <option value="ACC Highland (North Campus)">
          North Campus
        </option>
        <option value="Capital Factory (Downtown Campus)">
          Downtown Campus
        </option>
      </select>
      <p [text]="allTutors[0].location">
        default 1
      </p>
      <p [text]="allTutorsByLocation[0].name">
        default 2
      </p>
    </div>

    <!-- Date Picker -->
    <div class="ml-1 w-50">
      <h5>
        By Date:
      </h5>
      <!-- htmllint preset="none" -->
      <amp-state id="tutorsData">
        <script type="application/json">
          {{site.data.tutors | jsonify}}
        </script>
      </amp-state>
      <amp-date-picker
        mode="overlay"
        layout="container"
        input-selector="[name=tutoringDate]"
        on="select:AMP.setState({
            filteredTutorAvailability: tutorsData.map(tutor => {
              name: tutor.name,
              id: tutor.id,
              url: tutor.schedulingUrl,
              availabilityForDate: tutor.availableDates.filter(x => x.date == event.date)
            }),
            selectedDate: event.date
          }),tutors.changeToLayoutContainer()"
        tabindex="0"
      >
      <!-- htmllint preset="$previous" -->
        <input type="date"
          name="tutoringDate"
          on="change:AMP.setState({selectedDate: event.value})"
          tabindex="0"
        />
      </amp-date-picker>
    </div>
  </div>

  <div>
    <amp-list
      layout="responsive"
      width="396"
      height="80"
      src="/assets/tutors.json"
      [src]="allTutorsByLocation"
      binding="no"
      items="."
      id="tutors"
    >
      <!-- <div placeholder>Loading ...</div>
      <div fallback>Failed to load data.</div> -->
      <template type="amp-mustache">
        <!-- * Tutor Card Start -->
        <div class="col-6 col-md-3 mb-3">
            <div class="card text-center shadow">
              <div class="p-3 d-flex flex-column justify-content-between">
                <!-- Team -->
                <div>
                  <div class="mx-auto mb-3">
                    <!-- htmllint preset="none" -->
                    <amp-img
                      width="100px"
                      height="100px"
                      layout="fixed"
                      class="rounded-circle"
                      src="http://gravatar.com/avatar/{{ email | downcase | md5 }}?s=100&r=pg&d=retro"
                      alt="{{tutor.name}}"
                    ></amp-img>
                    <!-- htmllint preset="$previous" -->
                  </div>
                  <h5 class="mb-0">
                    {{ name }}
                  </h5>
                  <p class="small m-0">
                    {% for skill in skills %}
                      {{skill}}{% unless skill == skills.last %} | {% endunless %}
                    {% endfor %}
                  </p>
                  {% unless page.permalink == "/tutors/" %}
                    <p class="small my-1">
                      <i>{{tutor.limitation}}</i>
                    </p>
                  {% endunless %}
                </div>
                <!-- End Team -->

                <!-- Contact -->
                <div class="mt-2">
                  {% unless page.permalink == "/tutors/" %}
                    <a href="{{tutor.rocketchat}}" rel="noopener" target="_blank">
                      <i class="display-7 fab fa-rocketchat"></i>
                    </a>
                    <a href="mailto:{{tutor.email}}" rel="noopener" target="_blank" class="ml-3">
                      <i class="display-7 fas fa-envelope"></i>
                    </a>
                  {% else %}
                    <a href="#" on="tap:apply-now-lightbox.open" tabindex="0">
                      <i class="display-7 fab fa-rocketchat"></i>
                    </a>
                    <a href="#" on="tap:apply-now-lightbox.open" tabindex="0" class="ml-3">
                      <i class="display-7 fas fa-envelope"></i>
                    </a>
                  {% endunless %}
                </div>
                <!-- End Contact -->
              </div>

              <hr class="my-0">

              {% unless page.permalink == "/tutors/" %}
                <!-- htmllint preset="none" -->
                <a class="{% unless tutor.calendar %} disabled {% endunless %} btn btn-sm u-btn-primary--air transition-3d-hover" href="{{tutor.calendar}}" target="_blank">
                <!-- htmllint preset="$previous" -->
                  <span class="far fa-calendar-alt mr-2"></span>
                  Schedule Tutoring
                </a>
                <!-- htmllint preset="none" -->
                <a class="{% unless tutor.virtual %} disabled {% endunless %} btn btn-sm u-btn-primary--air transition-3d-hover" href="{{tutor.virtual}}" target="_blank">
                <!-- htmllint preset="$previous" -->
                  <span class="fa fa-chalkboard-teacher mr-2"></span>
                  Virtual Classroom
                </a>
              {% else %}
                <a href="#" on="tap:apply-now-lightbox.open" tabindex="0"
                  class="btn btn-sm u-btn-primary--air transition-3d-hover"
                >
                  <span class="far fa-calendar-alt mr-2"></span>
                  Schedule Tutoring
                </a>
                <a href="#" on="tap:apply-now-lightbox.open" tabindex="0"
                  class="btn btn-sm u-btn-primary--air transition-3d-hover"
                >
                  <span class="fa fa-chalkboard-teacher mr-2"></span>
                  Virtual Classroom
                </a>
              {% endunless %}
            </div>
          </div>
        </template>
    </amp-list>
  </div>

  <!-- <div class="row"> -->
    <!-- Tutors -->
    <!-- {% for tutor in page.tutors %}
      {% if page.permalink == "/tutoring/" %}
        {% assign splitName = tutor.name | split: " " %}
        {% assign name = splitName[0] %}
      {% else %}
        {% assign name = tutor.name %}
      {% endif %}

    {% endfor %} -->
    <!-- End Tutors -->
  </div>
</div>
